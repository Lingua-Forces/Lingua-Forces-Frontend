<app-main-header />

<section class="train-content">
  <div class="train__container">
    <h1 class="train__title">Entrenamiento adaptativo</h1>
    <p class="train__subtitle">Cada ejercicio te acerca más a dominar el inglés. ¡Tú puedes!</p>

    <div class="card train__card">
      <h2 class="train__instructions">Elige la alternativa correcta</h2>
      <p class="">{{ currentQuestion?.readingText }}</p>

      <ng-container *ngFor="let q of currentQuestion?.questions; let qi = index">
        <div class="train__embedded-question">
          <p><strong>{{ qi + 1 }}. {{ q.prompt }}</strong></p>
          <ul class="train__options">
            <li *ngFor="let opt of q.options">
              <label class="train__option">
                <input 
                  type="radio"
                  name="answer{{qi}}"      
                  [value]="opt.key"
                  [(ngModel)]="selectedOptions[qi]"
                />
                {{ opt.text }}
              </label>
            </li>
          </ul>
        </div>
      </ng-container>

      <button
        class="btn btn--primary train__button"
        [disabled]="!allAnswered()"
      >
        Enviar
      </button>
      <button
        class="btn btn--primary train__button"
        (click)="nextQuestion()"
      >
        Siguiente
      </button>
    </div>
  </div>
</section>
